<EditScreen>:
    BoxLayout:
        orientation: 'vertical'
        
        ActionBar:
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: 'Back'
                    with_previous: False
                    on_release: root.manager.current = 'start_menu'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '48dp'
            
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: 'Rotation'
                Slider:
                    id: rotation_slider
                    min: 0
                    max: 360
                    value: 180
                    on_value: root.rotate_image(self.value)
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: 'Hue'    
                Slider:
                    id: hue_slider
                    min: 0
                    max: 255
                    value: 70
                    on_value: root.update_hsv(hue=self.value)
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: 'Saturation'
                Slider:
                    id: saturation_slider
                    min: 0
                    max: 255
                    value: 255
                    on_value: root.update_hsv(saturation=self.value)
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: 'Valor'
                Slider:
                    id: value_slider
                    min: 0
                    max: 255
                    value: 50
                    on_value: root.update_hsv(value=self.value)

        # BoxLayout:
        #     orientation: 'horizontal'
        #     size_hint_y: None
        #     height: '48dp'
            
        #     CheckBox:
        #         id: json_map_checkbox
                
        #     Label:
        #         text: 'Generate JSON Map'
            
        #     CheckBox:
        #         id: text_map_checkbox
            
        #     Label:
        #         text: 'Generate TEXT Map'
                
        BoxLayout:
            Image:
                id: map_image
            BoxLayout:
                orientation: 'vertical'
                size_hint_x: None
                width: '120dp'
                
                Button:
                    text: 'Show detection mask'
                    on_release: root.toggle_feature("mask")
                
                Button:
                    text: 'Show Detections'
                    on_release: root.toggle_feature("detection")
                
                Button:
                    text: 'Show Final'
                    on_release: root.toggle_feature("final")
                
        BoxLayout:
            size_hint_y: None
            height: '48dp'
            
            Button:
                text: 'Generate'
                on_release: root.generate_files()
